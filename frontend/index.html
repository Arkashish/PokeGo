<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script src="https://cdn.socket.io/4.0.0/socket.io.min.js" integrity="sha384-DkkWv9oJFWLIydBXXjkBWnG1/fuVhw8YPBq37uvvD6WSYRFRqr21eY5Dg9ZhmWdy" crossorigin="anonymous"></script>
        <script>
            const socket = io("http://localhost:3000", { autoConnect: false });
            socket.connect();
            socket.on("connect", async () => {
                socket.emit("join", "605fbfa7e512eb0fae5669d1");
            });
            socket.on("refresh", async (data) => {
                console.log(JSON.stringify(data));
            });
            setTimeout(() => {
                socket.emit("attack", "test", "Tackle");
            }, 2000);
            // socket.on("joined", async (gameId) => {
            //     let result = await fetch("http://localhost:3000/chats?room=" + gameId).then(response => response.json());
            //     this.chatMessages = result.messages;
            //     this.chatMessages.push("Welcome to " + gameId);
            //     if (this.chatMessages.length > 20) {
            //         this.chatMessages.shift();
            //     }
            //     this.chat.setText(this.chatMessages);
            // });
            // socket.on("message", (message) => {
            //     this.chatMessages.push(message);
            //     if(this.chatMessages.length > 20) {
            //         this.chatMessages.shift();
            //     }
            //     this.chat.setText(this.chatMessages);
            // });
        </script>
    </body>
</html>